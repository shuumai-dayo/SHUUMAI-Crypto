# 🥟 SHUUMAICRYPT: 強力なファイル暗号化・復号化ツール

**SHUUMAICRYPT**は、パスワードベースの強力な暗号化アルゴリズムを使用して、大切なファイルを安全に保護するためのクロスプラットフォーム対応のデスクトップアプリケーションです。直感的なGUIとドラッグ＆ドロップ対応で、誰でも簡単にファイルの暗号化・復号化を行えます。

## ✨ 特徴

  * **強力な暗号化:** パスワードベースの鍵導出関数 **PBKDF2** と信頼性の高い **Fernet** (AES-128-CBC + HMAC-SHA256) を組み合わせて使用します。
  * **高いセキュリティ:** 鍵導出の反復回数は**480,000回**（NIST推奨値以上）を設定し、ブルートフォース攻撃に対する耐性を強化しています。
  * **ソルトの自動生成:** ファイルごとにユニークな **16バイトのソルト** を生成し、暗号文を異なるものにすることでレインボーテーブル攻撃を無効化します。
  * **直感的なGUI:** カスタムTkinter (`customtkinter`) を使用したモダンで使いやすいインターフェース。
  * **ドラッグ＆ドロップ対応:** ファイルを選択する手間なく、ウィンドウにファイルをドロップするだけで処理可能です。
  * **オプションの元ファイル削除:** 暗号化・復号化の完了後に、安全のために元のファイルを自動で削除するオプションを選択できます。
  * **ステータスとプログレス表示:** 処理中は進捗バーを表示し、完了・エラー時には明確なメッセージでフィードバックします。

-----

## ⚙️ 技術スタック

  * **GUI:** `customtkinter` 
  * **暗号化:** `cryptography`
      * **鍵導出:** PBKDF2 with SHA256 (480,000 iterations, 32-byte key)
      * **暗号化方式:** Fernet (Authenticated Encryption)
  * **その他:** `tkinterdnd2`, `threading`, `os`, `sys`, `base64`

-----

## 🚀 使い方

### 1\. 動作環境の準備

本ツールを実行するには、Pythonと必要なライブラリが必要です。

```bash
# 必要なライブラリをインストール
pip install customtkinter cryptography tkinterdnd2
```

### 2\. アプリケーションの実行

`main.py` を実行してアプリケーションを起動します。

```bash
python main.py
```

### 3\. ファイルの操作

1.  **ファイルの選択:**
      * 「ファイルを選択」ボタンをクリックするか、
      * 対象ファイルをアプリケーションウィンドウにドラッグ＆ドロップします。
2.  **パスワードの入力:** 「パスワード」入力欄に、暗号化/復号化に使用する任意のパスワードを入力します。
3.  **オプション:** 必要に応じて「処理後に元のファイルを削除する」にチェックを入れます。
4.  **処理の実行:**
      * **暗号化:** `[ファイル名]` → `[ファイル名].smai` へ変換
      * **復号化:** `[ファイル名].smai` → `[ファイル名]` へ変換

-----

## 💡 コードのハイライト (`crypto_utils.py`)

暗号化の心臓部では、以下の定数を使用してセキュリティを最大限に高めています。

```python
# パスワードベースのキー導出関数 (PBKDF2) のための定数
SALT_SIZE = 16       # 16バイトのソルト
ITERATIONS = 480000  # 反復回数 (セキュリティ強度を決定する重要な要素)
KEY_LENGTH = 32      # 32バイト (256ビット) のキー長

def derive_key(password: str, salt: bytes) -> bytes:
    # PBKDF2-SHA256でパスワードからキーを導出
    # FernetのためにURLセーフなbase64エンコードを行う
    # ...
```

このツールに関するご質問、バグ報告、機能提案などがあれば、お気軽にIssueを作成してください。
